/*C4*/SET SCHEMA PUBLIC
drop table socio
drop table monitor
drop table no_socio
drop table instalacion
drop table recursosactividad
drop table recurso
drop table actividad
drop table cursillo
drop table lista_espera
drop table administracion
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
create table socio(id_s varchar(10) primary key, nombre_s varchar(20) not null, apellidos_s varchar(50) not null, correo_s varchar(50) not null)
create table monitor(id_m varchar(10) primary key, nombre_m varchar(20) not null, apellidos_m varchar(50) not null, correo_m varchar(50) not null )
create table no_socio(id_ns varchar(10) primary key, nombre_ns varchar(20) not null, apellidos_ns varchar(50) not null, correo_ns varchar(50) not null)
create table instalacion(nombre_i varchar(20) primary key, plazas int not null)
create table recurso(nombre_r varchar(20) primary key, cantidad_r int check(cantidad_r >= 0))
INSERT INTO RECURSO VALUES('sin recursos',0)
COMMIT
create table actividad(id_a varchar(10) primary key, nombre_a varchar(20) not null, intensidad varchar(10) check(intensidad = 'alta' or intensidad = 'moderada' or intensidad = 'baja'), acceso varchar(20) check(acceso = 'libre' or acceso = 'reserva'), hora_inicio varchar(6) not null,hora_fin varchar(6) not null, nombre_i varchar(20) foreign key references Instalacion(nombre_i))
create table cursillo(id_c varchar(10) primary key, nombre_c varchar(20) not null, duracion varchar(20) not null, horario date not null)
create table lista_espera(id_lista varchar(10) primary key, cantidad int not null)
create table administracion(id_a varchar(10) primary key, nombre_a varchar(20) not null, apellidos_a varchar(50) not null, correo_a varchar(50) not null)
create table RecursosActividad(id_a varchar(10) foreign key references Actividad(id_a),nombre_r varchar(20) foreign key references Recurso(nombre_r))
DISCONNECT
/*C5*/SET SCHEMA PUBLIC
INSERT INTO INSTALACION VALUES('piscina',30)
COMMIT
/*C7*/SET SCHEMA PUBLIC
INSERT INTO ACTIVIDAD VALUES('1234','Prueba1','alta','reserva','13:00','15:00','piscina')
COMMIT
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
DELETE FROM ACTIVIDAD WHERE ID_A='1234'
COMMIT
DISCONNECT
/*C10*/SET SCHEMA PUBLIC
drop table socio
drop table monitor
drop table no_socio
DISCONNECT
/*C11*/SET SCHEMA PUBLIC
drop table recursosactividad
drop table recurso
drop table actividad
drop table instalacion
drop table cursillo
drop table lista_espera
drop table administracion
create table socio(id_s varchar(10) primary key, nombre_s varchar(20) not null, apellidos_s varchar(50) not null, correo_s varchar(50) not null)
create table monitor(id_m varchar(10) primary key, nombre_m varchar(20) not null, apellidos_m varchar(50) not null, correo_m varchar(50) not null )
create table no_socio(id_ns varchar(10) primary key, nombre_ns varchar(20) not null, apellidos_ns varchar(50) not null, correo_ns varchar(50) not null)
create table instalacion(nombre_i varchar(20) primary key, plazas int not null)
create table recurso(nombre_r varchar(20) primary key, cantidad_r int check(cantidad_r >= 0))
INSERT INTO RECURSO VALUES('sin recursos',0)
COMMIT
create table actividad(id_a varchar(10) primary key, nombre_a varchar(20) not null, intensidad varchar(10) check(intensidad = 'alta' or intensidad = 'moderada' or intensidad = 'baja'), acceso varchar(20) check(acceso = 'libre' or acceso = 'reserva'), hora_inicio varchar(6) not null,hora_fin varchar(6) not null, nombre_i varchar(20) foreign key references Instalacion(nombre_i))
create table cursillo(id_c varchar(10) primary key, nombre_c varchar(20) not null, duracion varchar(20) not null, horario date not null)
create table lista_espera(id_lista varchar(10) primary key, cantidad int not null)
create table administracion(id_a varchar(10) primary key, nombre_a varchar(20) not null, apellidos_a varchar(50) not null, correo_a varchar(50) not null)
create table RecursosActividad(id_a varchar(10) foreign key references Actividad(id_a),nombre_r varchar(20) foreign key references Recurso(nombre_r))
DISCONNECT
/*C12*/SET SCHEMA PUBLIC
drop table socio
drop table monitor
drop table no_socio
drop table recursosactividad
drop table recurso
drop table actividad
drop table instalacion
drop table cursillo
drop table lista_espera
drop table administracion
create table socio(id_s varchar(10) primary key, nombre_s varchar(20) not null, apellidos_s varchar(50) not null, correo_s varchar(50) not null)
create table monitor(id_m varchar(10) primary key, nombre_m varchar(20) not null, apellidos_m varchar(50) not null, correo_m varchar(50) not null )
create table no_socio(id_ns varchar(10) primary key, nombre_ns varchar(20) not null, apellidos_ns varchar(50) not null, correo_ns varchar(50) not null)
create table instalacion(nombre_i varchar(20) primary key, plazas int not null)
create table recurso(nombre_r varchar(20) primary key, cantidad_r int check(cantidad_r >= 0))
INSERT INTO RECURSO VALUES('sin recursos',0)
COMMIT
create table actividad(id_a varchar(10) primary key, nombre_a varchar(20) not null, intensidad varchar(10) check(intensidad = 'alta' or intensidad = 'moderada' or intensidad = 'baja'), acceso varchar(20) check(acceso = 'libre' or acceso = 'reserva'), hora_inicio varchar(6) not null,hora_fin varchar(6) not null, nombre_i varchar(20) foreign key references Instalacion(nombre_i))
create table cursillo(id_c varchar(10) primary key, nombre_c varchar(20) not null, duracion varchar(20) not null, horario date not null)
create table lista_espera(id_lista varchar(10) primary key, cantidad int not null)
create table administracion(id_a varchar(10) primary key, nombre_a varchar(20) not null, apellidos_a varchar(50) not null, correo_a varchar(50) not null)
create table RecursosActividad(id_a varchar(10) foreign key references Actividad(id_a),nombre_r varchar(20) foreign key references Recurso(nombre_r))
DISCONNECT
/*C5*/INSERT INTO INSTALACION VALUES('gimnasio',4)
COMMIT
INSERT INTO INSTALACION VALUES('piscina',9)
COMMIT
/*C13*/SET SCHEMA PUBLIC
drop table socio
drop table monitor
drop table no_socio
drop table recursosactividad
drop table recurso
drop table actividad
drop table instalacion
drop table cursillo
drop table lista_espera
drop table administracion
create table socio(id_s varchar(10) primary key, nombre_s varchar(20) not null, apellidos_s varchar(50) not null, correo_s varchar(50) not null)
create table monitor(id_m varchar(10) primary key, nombre_m varchar(20) not null, apellidos_m varchar(50) not null, correo_m varchar(50) not null )
create table no_socio(id_ns varchar(10) primary key, nombre_ns varchar(20) not null, apellidos_ns varchar(50) not null, correo_ns varchar(50) not null)
create table instalacion(nombre_i varchar(20) primary key, plazas int not null)
create table recurso(nombre_r varchar(20) primary key, cantidad_r int check(cantidad_r >= 0))
INSERT INTO RECURSO VALUES('sin recursos',0)
COMMIT
create table actividad(id_a varchar(10) primary key, nombre_a varchar(20) not null, intensidad varchar(10) check(intensidad = 'alta' or intensidad = 'moderada' or intensidad = 'baja'), acceso varchar(20) check(acceso = 'libre' or acceso = 'reserva'), hora_inicio varchar(6) not null,hora_fin varchar(6) not null, nombre_i varchar(20) foreign key references Instalacion(nombre_i))
create table cursillo(id_c varchar(10) primary key, nombre_c varchar(20) not null, duracion varchar(20) not null, horario date not null)
create table lista_espera(id_lista varchar(10) primary key, cantidad int not null)
create table administracion(id_a varchar(10) primary key, nombre_a varchar(20) not null, apellidos_a varchar(50) not null, correo_a varchar(50) not null)
create table RecursosActividad(id_a varchar(10) foreign key references Actividad(id_a),nombre_r varchar(20) foreign key references Recurso(nombre_r))
DISCONNECT
/*C5*/INSERT INTO INSTALACION VALUES('piscina',13)
COMMIT
INSERT INTO INSTALACION VALUES('gimnasio',13)
COMMIT
/*C14*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
